# v1.0.0 — 正式版

**發布日期：** 2026-02-08

---

## 新增功能

- **共享佇列機制**：多個 Worker (URL) 從中央佇列自動分配機器號，完成一台自動取下一台
- **OpenCV SSIM + 直方圖圖片比對**：取代 PSNR，提升動態遊戲畫面的比對準確度
- **測試場景白名單 (`test_flows`)**：每個測試場景可指定只執行哪些測試流程
- **Lark 推播測試報告**：測試完成後自動發送結構化報告到 Lark 群組
- **機器類型配置 (`machine_profiles/`)**：支援 JJBX、DFDC、COINCOMBO 等多種機型
- **階段性圖片比對**：在 entry、video、buttons 等階段對照參考圖片確認正確性
- **熱鍵控制**：Ctrl+Space 暫停/恢復、Ctrl+Esc 停止
- **版本號管理 (`version.py`)**：統一管理版本號，啟動和報告自動顯示

## 正常模式設定

- 自動 Spin **10 次**，間隔 **5 秒**
- 完成後自動切換下一台機器
- 餘額僅記錄不觸發退出

## 測試場景

| 場景 | 說明 | test_flows |
|------|------|-----------|
| `basic` | 基礎測試 | `["entry"]` |
| `balance_test` | 餘額測試 | `["entry", "按鈕測試"]` |
| `full_test` | 完整測試 | 全部 |
| `navigation_test` | 導航測試 | `["entry"]` |

## 專案結構

```
Machine test/
├── app.py              # 主程式入口
├── version.py          # 版本號管理
├── game/               # 遊戲執行核心
├── config/             # 配置管理
├── qa/                 # QA 模組（圖片比對、影片檢測）
├── notification/       # Lark 通知
├── hotkey/             # 熱鍵監聽
├── core/               # 瀏覽器工具
├── machine_profiles/   # 機器類型配置
├── scripts/            # 獨立腳本
├── tools/              # 開發工具
├── changelogs/         # 版本變更記錄
└── docs/               # 文件
```

## 相關檔案

- `version.py` — 版本號定義
- `test_config.json` — 測試場景配置
- `game_config.json` — 遊戲 URL 配置
- `game_title_codes.csv` — 機器號清單

